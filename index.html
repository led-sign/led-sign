<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO ë° ë©”íƒ€ íƒœê·¸ (ë§ˆì¼ìŠ¤í†¤ 5 ì ìš©) -->
    <title>ì˜¨ë¼ì¸ LED ì „ê´‘íŒ ë§Œë“¤ê¸° | Web Scroller</title>
    <!-- íŒŒë¹„ì½˜ ì„¤ì •: ì´ë°œì†Œ íšŒì „ ê°„íŒ ì´ëª¨ì§€(ğŸ’ˆ)ë¥¼ íƒ­ ì•„ì´ì½˜ìœ¼ë¡œ ì‚¬ìš© -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ’ˆ</text></svg>">
    
    <meta name="description" content="í…ìŠ¤íŠ¸, ìƒ‰ìƒ, ì†ë„ë¥¼ ë§ˆìŒëŒ€ë¡œ ì¡°ì ˆí•˜ëŠ” ë‚˜ë§Œì˜ ì˜¨ë¼ì¸ LED ì „ê´‘íŒì„ ë§Œë“¤ì–´ë³´ì„¸ìš”. ì „ì²´ í™”ë©´ ê¸°ëŠ¥ìœ¼ë¡œ ì‹¤ì œ ì „ê´‘íŒì²˜ëŸ¼ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.">
    <meta name="keywords" content="LED ì „ê´‘íŒ, ì˜¨ë¼ì¸ ì „ê´‘íŒ, ì›¹ ì „ê´‘íŒ, í…ìŠ¤íŠ¸ ìŠ¤í¬ë¡¤ëŸ¬, digital signboard, led scroller">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9DHM2Q6G3P"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-9DHM2Q6G3P');
    </script>
        
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        :root {
            /* ìˆ˜ì •ë¨: ê¸°ë³¸ ì†ë„(ë ˆë²¨ 15)ì— í•´ë‹¹í•˜ëŠ” ì‹œê°„ ì„¤ì • (31 - 15 = 16s) */
            --scroll-duration: 16s;
            --blink-duration: 1s;
            --container-width: 100vw; /* ê¸°ë³¸ê°’ */
        }
        @keyframes marquee {
            /* ê¸€ì ë„ˆë¹„(100%)ê°€ ì•„ë‹Œ í™”ë©´ ë„ˆë¹„(var(--container-width))ì—ì„œ ì‹œì‘ */
            0% { transform: translateX(var(--container-width)); }
            100% { transform: translateX(-100%); }
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        .scrolling-text {
            /* ê¸°ë³¸ ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ */
            animation: marquee var(--scroll-duration) linear infinite;
        }
        
        /* ì •ì§€ ëª¨ë“œ í´ë˜ìŠ¤: ì• ë‹ˆë©”ì´ì…˜ì„ ë©ˆì¶”ê³  ìœ„ì¹˜ë¥¼ ì´ˆê¸°í™”í•˜ì§€ ì•ŠìŒ (JSë¡œ ì œì–´) */
        .scrolling-text.static-mode {
            animation-name: none !important; /* ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ ì œê±° */
            transform: none !important;      /* ìœ„ì¹˜ ë³€í™˜ ì œê±° */
            width: auto;
        }

        .scrolling-text.blinking-text {
            /* ìŠ¤í¬ë¡¤ê³¼ ê¹œë¹¡ì„ ë™ì‹œ ì ìš© (ì •ì§€ ëª¨ë“œê°€ ì•„ë‹ ë•Œ) */
            animation: 
                marquee var(--scroll-duration) linear infinite,
                blink var(--blink-duration) ease-in-out infinite;
        }

        /* ì •ì§€ ëª¨ë“œì´ë©´ì„œ ê¹œë¹¡ì„ì´ ì¼œì ¸ ìˆì„ ë•Œ */
        .scrolling-text.static-mode.blinking-text {
            animation: blink var(--blink-duration) ease-in-out infinite;
        }

        /* ë¯¸ë¦¬ë³´ê¸° ì»¨í…Œì´ë„ˆ ì„¤ì • */
        #preview-wrapper {
            display: flex;
            align-items: center; /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
            overflow: hidden;    /* ë„˜ì¹˜ëŠ” ë‚´ìš© ìˆ¨ê¹€ */
        }
        
        #preview {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center; /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
            /* ìŠ¤í¬ë¡¤ ëª¨ë“œì¼ ë• justify-contentê°€ startì—¬ì•¼ ìì—°ìŠ¤ëŸ¬ì›€ */
            justify-content: flex-start; 
        }

        /* ì •ì§€ ëª¨ë“œì¼ ë•ŒëŠ” ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
        #preview.static-layout {
            justify-content: center;
        }

        #preview-wrapper:fullscreen #preview {
            height: 100%;
        }

        /* ì–¸ì–´ ëª¨ë‹¬ */
        #language-modal {
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col items-center justify-center p-4">

    <!-- ì–¸ì–´ ë³€ê²½ ëª¨ë‹¬ -->
    <div id="language-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden opacity-0">
        <div class="bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-sm text-center">
            <p id="language-modal-text" class="mb-4">Switch to English?</p>
            <div class="flex justify-center space-x-4">
                <button id="lang-confirm-yes" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition">Yes</button>
                <button id="lang-confirm-no" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-6 rounded-lg transition">No</button>
            </div>
        </div>
    </div>

    <div class="w-full max-w-4xl mx-auto">
        <!-- === ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ === -->
        <div id="preview-wrapper" class="bg-black border-4 border-gray-700 rounded-lg overflow-hidden mb-8 shadow-lg h-64 relative">
            <div id="preview">
                <!-- whitespace-nowrap: ì¤„ë°”ê¿ˆ ë°©ì§€ -->
                <p id="scrolling-text-element" class="text-6xl font-bold scrolling-text whitespace-nowrap" style="color: rgb(255, 221, 0);">ì—¬ê¸°ì— í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”</p>
            </div>
        </div>

        <!-- === ì»¨íŠ¸ë¡¤ íŒ¨ë„ === -->
        <div id="control-panel" class="bg-gray-800 p-6 rounded-lg shadow-2xl">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                
                <div class="lg:col-span-3">
                    <label for="text-input" class="block text-sm font-medium text-gray-300 mb-2" data-translate-key="textLabel">í‘œì‹œí•  í…ìŠ¤íŠ¸</label>
                    <input type="text" id="text-input" value="ì—¬ê¸°ì— í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" class="w-full bg-gray-700 border-gray-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none transition">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2" data-translate-key="textColorLabel">ê¸€ì ìƒ‰ìƒ</label>
                    <div class="flex items-center space-x-2" id="preset-colors">
                        <button data-color="rgb(239, 68, 68)" class="w-8 h-8 rounded-full bg-red-500 border-2 border-transparent hover:border-white transition"></button>
                        <button data-color="rgb(250, 204, 21)" class="w-8 h-8 rounded-full bg-yellow-400 border-2 border-transparent hover:border-white transition"></button>
                        <button data-color="rgb(34, 197, 94)" class="w-8 h-8 rounded-full bg-green-500 border-2 border-transparent hover:border-white transition"></button>
                        <button data-color="rgb(59, 130, 246)" class="w-8 h-8 rounded-full bg-blue-500 border-2 border-transparent hover:border-white transition"></button>
                        <input type="color" id="text-color-picker" value="#ffdd00" class="w-8 h-8 bg-gray-700 rounded-full cursor-pointer border-2 border-gray-600">
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2" data-translate-key="bgColorLabel">ë°°ê²½ ìƒ‰ìƒ</label>
                    <div class="flex items-center space-x-2">
                        <button data-bg-color="#000000" class="w-8 h-8 rounded-full bg-black border-2 border-gray-500 hover:border-white transition"></button>
                        <button data-bg-color="#FFFFFF" class="w-8 h-8 rounded-full bg-white border-2 border-gray-500 hover:border-black transition"></button>
                        <input type="color" id="bg-color-picker" value="#000000" class="w-8 h-8 bg-gray-700 rounded-full cursor-pointer border-2 border-gray-600">
                    </div>
                </div>

                <!-- ê¸€ì í¬ê¸° + ìë™ ë§ì¶¤ -->
                <div class="lg:col-span-1">
                    <div class="flex justify-between items-center mb-2">
                        <label for="font-size-slider" class="block text-sm font-medium text-gray-300">
                            <span data-translate-key="fontSizeLabel">ê¸€ì í¬ê¸°:</span> <span id="font-size-value">60</span>px
                        </label>
                        <!-- í™”ë©´ ê½‰ ì±„ìš°ê¸° ì²´í¬ë°•ìŠ¤ -->
                        <div class="flex items-center">
                            <input type="checkbox" id="auto-fit-check" class="w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500">
                            <label for="auto-fit-check" class="ml-2 text-xs text-gray-300 cursor-pointer select-none" data-translate-key="autoFitLabel">í™”ë©´ ê½‰ ì±„ìš°ê¸°</label>
                        </div>
                    </div>
                    <input type="range" id="font-size-slider" min="10" max="300" value="60" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer">
                </div>

                <!-- ìŠ¤í¬ë¡¤ ì†ë„ (ë‹¨ìœ„ s ì œê±°, ë¡œì§ ë°˜ì „) -->
                <div class="lg:col-span-1">
                    <div class="flex justify-between items-center mb-2">
                        <label for="scroll-speed-slider" class="block text-sm font-medium text-gray-300">
                            <span data-translate-key="scrollSpeedLabel">ìŠ¤í¬ë¡¤ ì†ë„:</span> <span id="scroll-speed-value">15</span>
                        </label>
                        <!-- í…ìŠ¤íŠ¸ ê³ ì • ì²´í¬ë°•ìŠ¤ -->
                        <div class="flex items-center">
                            <input type="checkbox" id="static-mode-check" class="w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500">
                            <label for="static-mode-check" class="ml-2 text-xs text-gray-300 cursor-pointer select-none" data-translate-key="staticModeLabel">í…ìŠ¤íŠ¸ ê³ ì •</label>
                        </div>
                    </div>
                    <!-- ìˆ˜ì •ë¨: max 30, value 15 (ì¤‘ê°„ ì†ë„) -->
                    <input type="range" id="scroll-speed-slider" min="1" max="30" value="15" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer">
                </div>

                <div class="lg:col-span-1">
                    <label for="blink-speed-slider" class="block text-sm font-medium text-gray-300 mb-2">
                        <span data-translate-key="blinkSpeedLabel">ê¹œë¹¡ì„ ì†ë„:</span> <span id="blink-speed-value">0.0</span><span data-translate-key="blinkSuffix">s (0=ì—†ìŒ)</span>
                    </label>
                    <input type="range" id="blink-speed-slider" min="0" max="5" step="0.1" value="0" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer">
                </div>
            </div>

            <div class="mt-8 flex flex-col md:flex-row items-center justify-center md:justify-between">
                <div class="flex items-center space-x-2 mb-4 md:mb-0">
                    <span class="text-sm font-medium">KO</span>
                    <label for="language-toggle" class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" value="" id="language-toggle" class="sr-only peer">
                        <div class="w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                    </label>
                    <span class="text-sm font-medium">EN</span>
                </div>
                
                <button id="play-button" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-transform transform hover:scale-105 shadow-lg flex items-center space-x-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span data-translate-key="playButton">ì „ì²´ í™”ë©´ìœ¼ë¡œ ì¬ìƒ</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const textInput = document.getElementById('text-input');
            const textColorPicker = document.getElementById('text-color-picker');
            const bgColorPicker = document.getElementById('bg-color-picker');
            const fontSizeSlider = document.getElementById('font-size-slider');
            const scrollSpeedSlider = document.getElementById('scroll-speed-slider');
            const blinkSpeedSlider = document.getElementById('blink-speed-slider');
            const staticModeCheck = document.getElementById('static-mode-check');
            const autoFitCheck = document.getElementById('auto-fit-check');

            const fontSizeValue = document.getElementById('font-size-value');
            const scrollSpeedValue = document.getElementById('scroll-speed-value');
            const blinkSpeedValue = document.getElementById('blink-speed-value');
            const scrollingTextElement = document.getElementById('scrolling-text-element');
            const previewWrapper = document.getElementById('preview-wrapper');
            const previewDiv = document.getElementById('preview');
            
            const presetColorButtons = document.querySelectorAll('#preset-colors button');
            const presetBgColorButtons = document.querySelectorAll('[data-bg-color]');
            const playButton = document.getElementById('play-button');
            const languageToggle = document.getElementById('language-toggle');
            const languageModal = document.getElementById('language-modal');
            const langConfirmYes = document.getElementById('lang-confirm-yes');
            const langConfirmNo = document.getElementById('lang-confirm-no');
            const root = document.documentElement;

            // --- ë²ˆì—­ ë°ì´í„° ---
            const translations = {
                ko: {
                    textLabel: 'í‘œì‹œí•  í…ìŠ¤íŠ¸',
                    textColorLabel: 'ê¸€ì ìƒ‰ìƒ',
                    bgColorLabel: 'ë°°ê²½ ìƒ‰ìƒ',
                    fontSizeLabel: 'ê¸€ì í¬ê¸°:',
                    scrollSpeedLabel: 'ìŠ¤í¬ë¡¤ ì†ë„:',
                    blinkSpeedLabel: 'ê¹œë¹¡ì„ ì†ë„:',
                    playButton: 'ì „ì²´ í™”ë©´ìœ¼ë¡œ ì¬ìƒ',
                    blinkSuffix: 's (0=ì—†ìŒ)',
                    placeholder: 'ì—¬ê¸°ì— í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”',
                    staticModeLabel: 'í…ìŠ¤íŠ¸ ê³ ì •',
                    autoFitLabel: 'í™”ë©´ ê½‰ ì±„ìš°ê¸°'
                },
                en: {
                    textLabel: 'Display Text',
                    textColorLabel: 'Text Color',
                    bgColorLabel: 'Background Color',
                    fontSizeLabel: 'Font Size:',
                    scrollSpeedLabel: 'Scroll Speed:',
                    blinkSpeedLabel: 'Blink Speed:',
                    playButton: 'Play Fullscreen',
                    blinkSuffix: 's (0=off)',
                    placeholder: 'Enter your text here',
                    staticModeLabel: 'Static Text',
                    autoFitLabel: 'Fit to Screen'
                }
            };

            // --- ìë™ í¬ê¸° ì¡°ì ˆ í•¨ìˆ˜ (í•µì‹¬ ë¡œì§) ---
            function adjustFontSizeToFit() {
                // ì¶”ê°€: í™”ë©´ ë„ˆë¹„ë¥¼ ê³„ì‚°í•˜ì—¬ CSS ë³€ìˆ˜ ì—…ë°ì´íŠ¸ (ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘ì  ë³´ì •)
                const containerWidth = previewWrapper.clientWidth;
                root.style.setProperty('--container-width', `${containerWidth}px`);

                if (!autoFitCheck.checked) return; // ì²´í¬ ì•ˆ ë˜ì–´ìˆìœ¼ë©´ ì‹¤í–‰ ì•ˆ í•¨

                const containerHeight = previewWrapper.clientHeight;
                const text = scrollingTextElement.innerText;
                const isStatic = staticModeCheck.checked;

                // ì¸¡ì •ì„ ìœ„í•´ ì„ì‹œë¡œ í°íŠ¸ í¬ê¸° ì„¤ì •
                let minSize = 10;
                let maxSize = 1000; // ì¶©ë¶„íˆ í° ê°’
                let optimalSize = 10;

                // ì´ì§„ íƒìƒ‰ìœ¼ë¡œ ìµœì ì˜ í¬ê¸° ì°¾ê¸° (ì„±ëŠ¥ ìµœì í™”)
                // ë‹¨ìˆœíˆ 1ì”© ì¦ê°€ì‹œí‚¤ëŠ” ê²ƒë³´ë‹¤ ë¹ ë¦„
                let low = minSize;
                let high = maxSize;

                // í…ìŠ¤íŠ¸ ì¸¡ì •ì„ ìœ„í•œ ì„ì‹œ ìš”ì†Œ ìƒì„± (í™”ë©´ì— ê·¸ë¦¬ì§„ ì•ŠìŒ)
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                context.font = `bold 100px 'Inter', sans-serif`; // í°íŠ¸ íŒ¨ë°€ë¦¬ ë§ì¶¤

                while (low <= high) {
                    let mid = Math.floor((low + high) / 2);
                    context.font = `bold ${mid}px 'Inter', sans-serif`;
                    const metrics = context.measureText(text);
                    const textWidth = metrics.width;
                    const textHeight = mid; // ëŒ€ëµì ì¸ ë†’ì´

                    let fits = false;
                    if (isStatic) {
                        // ì •ì§€ ëª¨ë“œ: ê°€ë¡œì™€ ì„¸ë¡œ ëª¨ë‘ í™”ë©´ ì•ˆì— ë“¤ì–´ì™€ì•¼ í•¨ (ì—¬ìœ  ê³µê°„ 5%)
                        fits = (textWidth <= containerWidth * 0.95) && (textHeight <= containerHeight * 0.95);
                    } else {
                        // ìŠ¤í¬ë¡¤ ëª¨ë“œ: ì„¸ë¡œë§Œ í™”ë©´ ì•ˆì— ë“¤ì–´ì˜¤ë©´ ë¨ (ê°€ë¡œëŠ” ë„˜ì³ë„ ë¨)
                        fits = (textHeight <= containerHeight * 0.95);
                    }

                    if (fits) {
                        optimalSize = mid;
                        low = mid + 1;
                    } else {
                        high = mid - 1;
                    }
                }

                // ê³„ì‚°ëœ í¬ê¸° ì ìš©
                scrollingTextElement.style.fontSize = `${optimalSize}px`;
                fontSizeSlider.value = Math.min(optimalSize, 300); // ìŠ¬ë¼ì´ë” UI ì—…ë°ì´íŠ¸ (ìµœëŒ€ê°’ ì œí•œ)
                fontSizeValue.innerText = optimalSize;
            }

            // --- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ---

            // í…ìŠ¤íŠ¸ ì…ë ¥ ì‹œ
            textInput.addEventListener('input', e => {
                scrollingTextElement.innerText = e.target.value;
                if (autoFitCheck.checked) adjustFontSizeToFit();
            });

            // ìƒ‰ìƒ ë³€ê²½
            textColorPicker.addEventListener('input', e => scrollingTextElement.style.color = e.target.value);
            bgColorPicker.addEventListener('input', e => previewWrapper.style.backgroundColor = e.target.value);
            presetColorButtons.forEach(btn => btn.addEventListener('click', () => {
                scrollingTextElement.style.color = btn.dataset.color;
                textColorPicker.value = rgbToHex(btn.dataset.color);
            }));
            presetBgColorButtons.forEach(btn => btn.addEventListener('click', () => {
                previewWrapper.style.backgroundColor = btn.dataset.bgColor;
                bgColorPicker.value = btn.dataset.bgColor;
            }));

            // ê¸€ì í¬ê¸° ìŠ¬ë¼ì´ë” (ìë™ ë§ì¶¤ì´ êº¼ì ¸ìˆì„ ë•Œë§Œ ì‘ë™)
            fontSizeSlider.addEventListener('input', e => {
                if (autoFitCheck.checked) return; // ìë™ ë§ì¶¤ ì¤‘ì—ëŠ” ìŠ¬ë¼ì´ë” ë¬´ì‹œ
                const size = e.target.value;
                scrollingTextElement.style.fontSize = `${size}px`;
                fontSizeValue.innerText = size;
            });

            // í™”ë©´ ê½‰ ì±„ìš°ê¸° (Auto Fit) í† ê¸€
            autoFitCheck.addEventListener('change', e => {
                if (e.target.checked) {
                    fontSizeSlider.disabled = true; // ìŠ¬ë¼ì´ë” ë¹„í™œì„±í™”
                    fontSizeSlider.classList.add('opacity-50', 'cursor-not-allowed');
                    adjustFontSizeToFit();
                } else {
                    fontSizeSlider.disabled = false; // ìŠ¬ë¼ì´ë” í™œì„±í™”
                    fontSizeSlider.classList.remove('opacity-50', 'cursor-not-allowed');
                    // ì›ë˜ ìŠ¬ë¼ì´ë” ê°’ìœ¼ë¡œ ë³µê·€
                    scrollingTextElement.style.fontSize = `${fontSizeSlider.value}px`;
                }
            });

            // í…ìŠ¤íŠ¸ ê³ ì • (Static Mode) í† ê¸€
            staticModeCheck.addEventListener('change', e => {
                if (e.target.checked) {
                    scrollingTextElement.classList.add('static-mode');
                    previewDiv.classList.add('static-layout');
                    scrollSpeedSlider.disabled = true;
                    scrollSpeedSlider.classList.add('opacity-50', 'cursor-not-allowed');
                } else {
                    scrollingTextElement.classList.remove('static-mode');
                    previewDiv.classList.remove('static-layout');
                    scrollSpeedSlider.disabled = false;
                    scrollSpeedSlider.classList.remove('opacity-50', 'cursor-not-allowed');
                }
                // ëª¨ë“œ ë³€ê²½ ì‹œ í¬ê¸° ì¬ê³„ì‚° (ë§ì¶¤ ì˜µì…˜ì´ ì¼œì ¸ìˆì„ ê²½ìš° ê¸°ì¤€ì´ ë‹¬ë¼ì§€ë¯€ë¡œ)
                if (autoFitCheck.checked) adjustFontSizeToFit();
            });

            // ìŠ¤í¬ë¡¤ ì†ë„ (ìˆ˜ì •ë¨: ì†ë„ = 31 - ì‹œê°„ ì—­ì‚°)
            scrollSpeedSlider.addEventListener('input', e => {
                const speed = parseInt(e.target.value);
                // ì†ë„ 1 -> 30ì´ˆ (ëŠë¦¼), ì†ë„ 30 -> 1ì´ˆ (ë¹ ë¦„)
                const duration = 31 - speed;
                root.style.setProperty('--scroll-duration', `${duration}s`);
                scrollSpeedValue.innerText = speed; // ë‹¨ìœ„ ì—†ì´ ìˆ«ìë§Œ í‘œì‹œ
            });

            // ê¹œë¹¡ì„ ì†ë„
            blinkSpeedSlider.addEventListener('input', e => {
                const speed = e.target.value;
                if (speed > 0) {
                    scrollingTextElement.classList.add('blinking-text');
                    root.style.setProperty('--blink-duration', `${speed}s`);
                } else {
                    scrollingTextElement.classList.remove('blinking-text');
                }
                blinkSpeedValue.innerText = parseFloat(speed).toFixed(1);
            });

            // ì „ì²´ í™”ë©´
            playButton.addEventListener('click', () => {
                if (previewWrapper.requestFullscreen) previewWrapper.requestFullscreen();
                else if (previewWrapper.webkitRequestFullscreen) previewWrapper.webkitRequestFullscreen();
                else if (previewWrapper.msRequestFullscreen) previewWrapper.msRequestFullscreen();
            });

            // ì „ì²´ í™”ë©´ ë³€ê²½ ê°ì§€ (í¬ê¸°ê°€ ë³€í•˜ë¯€ë¡œ ìë™ ë§ì¶¤ ì¬ì‹¤í–‰)
            document.addEventListener('fullscreenchange', () => {
                // ì „ì²´ í™”ë©´ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ì´ ëë‚œ í›„ ì•½ê°„ì˜ ë”œë ˆì´ë¥¼ ë‘ê³  ê³„ì‚°
                setTimeout(() => {
                    adjustFontSizeToFit(); // í™”ë©´ í¬ê¸°ê°€ ë³€í–ˆìœ¼ë¯€ë¡œ ë¬´ì¡°ê±´ ì‹¤í–‰í•˜ì—¬ ì‹œì‘ì  ì¬ê³„ì‚°
                }, 100);
            });
            window.addEventListener('resize', () => {
                adjustFontSizeToFit(); // í™”ë©´ í¬ê¸°ê°€ ë³€í–ˆìœ¼ë¯€ë¡œ ë¬´ì¡°ê±´ ì‹¤í–‰í•˜ì—¬ ì‹œì‘ì  ì¬ê³„ì‚°
            });

            // ì´ˆê¸° ë¡œë”© ì‹œ ì‹œì‘ì  ê³„ì‚°
            adjustFontSizeToFit();

            // --- ì–¸ì–´ ë° ê¸°íƒ€ ---
            function translateUI(lang) {
                document.querySelectorAll('[data-translate-key]').forEach(el => {
                    const key = el.dataset.translateKey;
                    if (translations[lang][key]) el.innerText = translations[lang][key];
                });
                const defaultKo = translations.ko.placeholder;
                const defaultEn = translations.en.placeholder;
                if (textInput.value === defaultKo || textInput.value === defaultEn) {
                    textInput.value = translations[lang].placeholder;
                    scrollingTextElement.innerText = translations[lang].placeholder;
                }
            }

            languageToggle.addEventListener('change', e => translateUI(e.target.checked ? 'en' : 'ko'));
            
            // ì´ˆê¸° ì–¸ì–´ ì„¤ì •
            const userLang = navigator.language || navigator.userLanguage;
            if (!userLang.startsWith('ko')) {
                document.getElementById('language-modal-text').innerText = 'Switch to English?';
                languageModal.classList.remove('hidden');
                setTimeout(() => languageModal.classList.remove('opacity-0'), 10);
            }
            langConfirmYes.addEventListener('click', () => {
                translateUI('en');
                languageToggle.checked = true;
                closeModal();
            });
            function closeModal() {
                languageModal.classList.add('opacity-0');
                setTimeout(() => languageModal.classList.add('hidden'), 300);
            }
            langConfirmNo.addEventListener('click', closeModal);

            function rgbToHex(rgb) {
                if (!rgb) return "#000000";
                let sep = rgb.includes(",") ? "," : " ";
                rgb = rgb.substr(4).split(")")[0].split(sep);
                let r = (+rgb[0]).toString(16).padStart(2, '0');
                let g = (+rgb[1]).toString(16).padStart(2, '0');
                let b = (+rgb[2]).toString(16).padStart(2, '0');
                return "#" + r + g + b;
            }
        });
    </script>
</body>
</html>